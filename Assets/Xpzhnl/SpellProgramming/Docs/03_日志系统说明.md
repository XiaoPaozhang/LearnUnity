# 彩色日志系统说明

## 🎨 日志颜色分类

我们创建了一个专业的彩色日志系统，让Console更容易阅读！

### 颜色含义

| 颜色 | 类型 | 用途 | 示例 |
|------|------|------|------|
| 🔵 **青色** | 法术 | 法术执行流程 | `[法术 0] 火球术 (Projectile)` |
| 🟡 **金色** | 修饰符 | 修饰符应用 | `[修饰符] 伤害增强 \| 伤害×1.5` |
| 🔴 **红色** | 伤害 | 伤害和命中 | `⚔ 伤害: 75.0 → Target` |
| 🟣 **紫色** | 投射物 | 投射物生命周期 | `[投射物] 创建 \| 伤害:75` |
| 🟢 **绿色** | 成功 | 操作成功 | `✓ 添加法术: 火球术` |
| 🟠 **橙色** | 警告 | 警告信息 | `⚠ 法杖中没有法术！` |
| ⚪ **灰色** | 系统 | 系统信息 | `法杖冷却中...` |

---

## 📋 日志示例

### 完整施法流程

```
★ 切换组合: 增强三重火球 ★
✓ 添加法术: 伤害增强
✓ 添加法术: 三重施法
✓ 添加法术: 火球术
━━━━━━━━━━━━━━━━━━━━━━━━━━━━

╔══════ 开始施法 ══════╗
  法术数量: 3
[法术 0] 伤害增强 (Modifier)
[修饰符] 伤害增强 | 伤害×1.5
[法术 1] 三重施法 (Modifier)
[修饰符] 三重施法 | 数量×3
[法术 2] 火球术 (Projectile)
[投射物] 创建 | 伤害:75 | 速度:15.0 | 生命:3.0s
[投射物] 创建 | 伤害:75 | 速度:15.0 | 生命:3.0s
[投射物] 创建 | 伤害:75 | 速度:15.0 | 生命:3.0s
╚══════ 施法完成 ══════╝

◉ 命中: Target
⚔ 伤害: 75.0 → Target
[投射物] 销毁 - 穿透耗尽
```

---

## 🎛️ 控制日志输出

你可以在代码中控制哪些日志显示：

```csharp
using SpellSystem;

// 在游戏启动时设置
SpellLogger.EnableSpellLogs = true;        // 法术日志
SpellLogger.EnableModifierLogs = true;     // 修饰符日志
SpellLogger.EnableDamageLogs = true;       // 伤害日志
SpellLogger.EnableProjectileLogs = true;   // 投射物日志
SpellLogger.EnableSystemLogs = true;       // 系统日志
```

### 示例：只看重要信息

```csharp
// 只显示法术和伤害，隐藏其他细节
SpellLogger.EnableSpellLogs = true;
SpellLogger.EnableDamageLogs = true;

SpellLogger.EnableModifierLogs = false;
SpellLogger.EnableProjectileLogs = false;
SpellLogger.EnableSystemLogs = false;
```

---

## 🔧 使用方法

### 在你的代码中使用

```csharp
using SpellSystem;

// 法术执行
SpellLogger.LogSpellExecute(0, "火球术", "Projectile");

// 修饰符应用
SpellLogger.LogModifierApply("伤害增强", 1.5f, 1f, 1);

// 伤害
SpellLogger.LogDamage("敌人", 75f);

// 命中
SpellLogger.LogHit("目标");

// 投射物
SpellLogger.LogProjectileInit(50f, 10f, 3f, 0);
SpellLogger.LogProjectileDestroy("生命周期结束");

// 成功/警告/系统
SpellLogger.LogSuccess("操作成功");
SpellLogger.LogWarning("注意事项");
SpellLogger.LogSystem("系统信息");

// 分隔线
SpellLogger.LogSeparator();
```

---

## 🎨 Console 设置建议

### Unity Console 优化

1. **启用时间戳**
   - Console 右上角菜单 → **Timestamps**

2. **清理模式**
   - 勾选 **Clear on Play** 每次运行清空
   - 或手动点击 **Clear** 按钮

3. **过滤选项**
   - 只看 **Log**（信息）
   - 隐藏 **Warning** 和 **Error**（如果太多）

4. **Collapse 模式**
   - 折叠重复日志
   - 但建议**不勾选**，这样能看到投射物数量

---

## 📊 日志层级

```
优先级从高到低：
1. 🔴 错误 (Error) - 必须解决
2. 🟠 警告 (Warning) - 需要注意
3. 🟢 成功 (Success) - 重要操作
4. 🔵 法术 (Spell) - 核心流程
5. 🟡 修饰符 (Modifier) - 详细信息
6. 🔴 伤害 (Damage) - 战斗结果
7. 🟣 投射物 (Projectile) - 生命周期
8. ⚪ 系统 (System) - 辅助信息
```

---

## 💡 调试技巧

### 1. 追踪法术执行
查找青色的 `[法术 X]` 日志，按顺序看执行流程

### 2. 检查修饰符应用
查找金色的 `[修饰符]` 日志，确认倍数是否正确

### 3. 验证伤害计算
查找红色的 `⚔ 伤害:` 日志，看最终伤害值

### 4. 调试投射物问题
查找紫色的 `[投射物]` 日志，跟踪创建和销毁

---

## 🎯 实战示例

### 问题：三重施法没生效

**查看日志：**
```
[法术 0] 三重施法 (Modifier)
[修饰符] 三重施法 | 数量×3  ← 修饰符已应用
[法术 1] 火球术 (Projectile)
[投射物] 创建 | ...       ← 只有1个！
```

**原因：** 投射物只创建了1个，说明修饰符没有被正确读取。

---

### 问题：伤害不对

**查看日志：**
```
[修饰符] 伤害增强 | 伤害×1.5
[投射物] 创建 | 伤害:50    ← 应该是75！
```

**原因：** 修饰符没有应用到投射物上。

---

## 🚀 下一步

- 可以添加更多日志类型（治疗、护盾等）
- 添加日志输出到文件功能
- 创建图形化的战斗日志UI

---

**享受清晰的彩色日志吧！** 🎨✨

